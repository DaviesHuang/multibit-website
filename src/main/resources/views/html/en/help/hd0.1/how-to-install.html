<h3>How to install</h3>

<p>After downloading the installer from the website you will see the installation application. This article will guide you through the process of installing MultiBit HD on Windows, Mac and Linux using this application.</p>

<h4>Launch the installer</h4>

<p>Double click the installer to begin the process.</p>

<img class="img-responsive" src="/images/en/screenshots/mbhd-0.1/installer-1.png" title="Installer screen shot"/>

<img class="img-responsive" src="/images/en/screenshots/mbhd-0.1/installer-2.png" title="Installer screen shot"/>

<p>At this point you can choose to overwrite a previous installation, if present, or choose a new installation location. Your wallet and configuration files will be shared
  between each installation of MultiBit HD so it is generally best to select the overwrite option.</p>

<img class="img-responsive" src="/images/en/screenshots/mbhd-0.1/installer-3.png" title="Installer screen shot"/>

<img class="img-responsive" src="/images/en/screenshots/mbhd-0.1/installer-4.png" title="Installer screen shot"/>

<p>Finalise the installation</p>

<img class="img-responsive" src="/images/en/screenshots/mbhd-0.1/installer-5.png" title="Installer screen shot"/>

<p>The MultiBit HD installer contains its own Java Runtime Environment (JRE) which is set apart from any other that may be present on your system. After you click Finish you can launch MultiBit HD in the usual manner for your operating system - usually a double click of its shortcut. At this point the JRE will configure itself which may take up to 30 seconds to complete. Subsequent launches will not incur this one-off time delay.</p>

<h3>Operating system specific help</h3>

<p>While the vast majority of installations proceed without a hitch, there are occasions when certain configurations cause problems. Fortunately, the MultiBit user community has given us feedback about these problems and the workarounds they found to work. We present a list below in the hope that you will find them useful to you.</p>

<h3>OS X</h3>
<p>The MultiBit HD installer is slightly different from a standard OS X installer in that it doesn't rely on a single drag and drop into the Applications directory. However, once the installer has completed the resulting package in Applications can be dragged to the launch bar as usual.</p>

<h3>Linux</h3>
<p>The Linux installer does not come with a pre-packaged Java installation due to the huge variety of Linux distros that are available. Consequently you will need to arrange for a suitable JVM to be installed prior to running the installer. We recommend <a href="http://openjdk.java.net/install/" target="_blank">Open Java 1.7.0_72</a>.</p>

<p>Assuming you have a suitable JVM installed and have downloaded the installer to your home directory, do the following at the command shell:</p>
<pre>
cd ~
chmod +x multibit-hd-unix-0.0.5.sh
./multibit-hd-unix-0.0.5.sh
</pre>
<p>After a short time MultiBit HD will show a wizard and install into <code>~/multibit-hd</code>. Your application directory will be <code>~/.multibit-hd</code> and will hold all your configuration and wallet files. It will appear on first startup. A basic Unity <code>.desktop</code> file will be created and registered if available so you should be able to simply open Unity and search for "MultiBit" to get started (but see later). Alternatively you can run from the command line as follows (you'll see a lot of logging messages this way):</p>
<pre>
cd multibit-hd
./multibit-hd &
</pre>

<p>After running the installer you may need to run some scripts to further integrate MultiBit HD into your environment. In particular the Trezor support requires certain <code>udev</code> rules to be in place. The following sections provide these scripts. If you have a distro that is not included and have a script you'd like to share please let us know through the website issue link at the foot of the page.</p>

<h4>Ubuntu</h4>
<p>This script will activate the USB HID rules for Trezor and will ensure that MultiBit HD can respond correctly to Bitcoin links in web pages:</p>
<pre>
#!/bin/sh
echo Activate HID USB...
cat << _EOF_ > /etc/udev/rules.d/99-multibit-hd.rules
# Trezor HID device
ATTRS{idProduct}=="0001", ATTRS{idVendor}=="534c", MODE="0660", GROUP="plugdev"
_EOF_

echo Build Unity desktop...
unityExec=$(ls -d $PWD/multibit-hd)
unityIcon=$(ls -d $PWD/.install4j/multibit-hd.png)
cat << _EOF_ > multibit-hd.desktop
[Desktop Entry]
Version=1.0
Type=Application
Terminal=false
Exec=$unityExec %U
Icon=$unityIcon
Name[en_US]=MultiBit HD
Comment=Secure lightweight international Bitcoin wallet
Comment[en_US]=Secure lightweight international Bitcoin wallet
Name=MultiBit HD
Categories=Network;X-Bitcoin;
MimeType=x-scheme-handler/bitcoin;
_EOF_

echo Install to Unity...
desktop-file-validate multibit-hd.desktop
desktop-file-install multibit-hd.desktop
update-desktop-database

echo Done. Please check the Unity dock.
</pre>

<p>To run it, launch <code>gedit</code> and copy-paste the above and save as <code>~/multibit-hd/post-install.sh</code>. Then do the following:</p>

<pre>
cd ~/multibit-hd
chmod +x post-install.sh
sudo ./post-install.sh
</pre>
<p>When complete you will have a launch icon in the dock that you can locate using "MultiBit" in the search.</p>

<h4>How to run MultiBit HD manually</h4>
<p>You can run MultiBit HD manually as follows:</p>
<pre>
cd ~/multibit-hd
java -jar multibit-hd.jar
</pre>

<h4>OpenJDK doesn't work for me...</h4>
<p>Some people have had issues using MultiBit with OpenJDK on Arch Linux and OpenSuse distributions. The error manifests when trying to add a password to a wallet and occurs deep
  within the platform-specific parts of the JVM. If this affects you the error will be like this:</p>
<pre>
SIGSEGV (0xb) at pc=0x00007f97ec7d06a0, pid=588, tid=140289289742080
</pre>

<p>After some research <a href="https://github.com/jim618/multibit/issues/325" target="_blank">members of the MultiBit community</a> found that installing the Oracle Java 7 JVM fixed the problem. To install Oracle's JDK do the following:</p>
<pre>
sudo add-apt-repository ppa:webupd8team/java
sudo apt-get update
sudo apt-get install oracle-java7-installer
</pre>
<p>However further research found a reliable workaround involving deleting libscrypt.so from the JAR:</p>
<pre>
zip -d "multibit-hd.jar" lib/x86_64/{freebsd,linux}/libscrypt.so
deleting: lib/x86_64/freebsd/libscrypt.so
deleting: lib/x86_64/linux/libscrypt.so
</pre>

<h4>Clicking a Bitcoin link in Firefox doesn't work</h4>
<p>Assuming that you have installed MultiBit HD and run the post-install script this should work out of the box. However some people have fixed this by manually editing the <code>~/.mozilla/firefox/YOUR_PROFILE.default/mimeTypes.rdf</code> file with an entry as follows:</p>
<pre>
  ... 
  <RDF:Description RDF:about="urn:scheme:bitcoin"
                   NC:value="~/multibit-hd/multibit-hd">
    <NC:handlerProp RDF:resource="urn:scheme:handler:bitcoin"/>
  </RDF:Description>
  ... 
</pre>
<p>Save and restart Firefox and click a Bitcoin URI. It should prompt for a handler and give you the option to make this choice permanent.</p>

<h4>Related articles</h4>
<p>Here are some related articles:</p>
<ul>
  <li><a href="how-to-upgrade.html">How to upgrade</a></li>
  <li><a href="how-to-upgrade-from-classic.html">How to upgrade from MultiBit Classic</a></li>
</ul>
